window._bd_share_main.F.module("component/pop_base",function(t,e,n){var a=t("base/tangram").T,r=t("conf/const"),o=t("base/class").Class;e.PopBase=o.create(function(e){function n(t){if(o(t))return t;if(c._actBtnSet.maxDomDepth>0)for(var e=c._actBtnSet.maxDomDepth,n=0,r=a(t).parent().get(0),i=c.entities;n<e;){if(o(r))return r;if(r=a(r).parent().get(0),a.array(i).contains(r)||r==document.body)break;n++}return null}function o(t){var e=c._actBtnSet;return!(!t||!t.tagName||!e.className&&!e.tagName)&&((!e.className||a(t).hasClass(e.className))&&(!e.tagName||t.tagName.toLowerCase()==e.tagName.toLowerCase())&&a(t).attr(e.cmdAttr))}var c=this;c._container=null,c._actBtnSet={className:"",tagName:"a",maxDomDepth:0,cmdAttr:r.CMD_ATTR},c._partners=t("component/partners").partners,c._partnerSort=t("component/partners").partnerSort,c._poptype=-1,c.show=function(t,e){window._bd_share_main.F.use("share_popup.css",function(){c._show(t,e)})},c.hide=function(){c._hide(),c.un()},c.init=function(){var t;c._init(),t=c._container,a(t).click(function(t){var e=n((t=a.event(t||window.event)).target);e&&(t.preventDefault(),c.fire("clickact",{cmd:a(e).attr(c._actBtnSet.cmdAttr),element:e,event:t,buttonType:c._poptype}))}).mouseover(function(t){var e=n(t.target);c.fire("mouseenter",{element:e,event:t}),"more"==a(e).attr("data-cmd")&&c.fire("moreover",{element:e,event:t})})},c._init=function(){},c._show=function(){},c._hide=function(){}})});